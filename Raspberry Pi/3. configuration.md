# Configurations and Development
## 1. Config of RPi
### 1.1 Enable I2C and SPI
`$ sudo raspi-config` to enable I2C and SPI

check if these are enabled by `$ lsmod`. If I2C enabled, the terminal echoes an `i2c-bcm2835` device, else you can add it manually: `sudo nano /etc/modules` and append:

```sh
i2c-bcm2835
i2c-dev
```

If SPI enabled, the terminal echoes an `spi-bcm2835` device.

### 1.2 [Enable Multiple SPI](https://www.raspberrypi.org/documentation/hardware/raspberrypi/spi/README.md)
SPI0 is disabled by default. To enable it, use `raspi-config`, or ensure the line `dtparam=spi=on` isn't commented out in `/boot/config.txt`. By default it uses 2 chip select lines, but this can be reduced to 1 using `dtoverlay=spi0-1cs`. `dtoverlay=spi0-2cs` also exists, and without any parameters it is equivalent to `dtparam=spi=on`.

To enable SPI1, you can use 1, 2 or 3 chip select lines, adding in each case:

```sh
dtoverlay=spi1-1cs  #1 chip select
dtoverlay=spi1-2cs  #2 chip select
dtoverlay=spi1-3cs  #3 chip select
```
to `/boot/config.txt` file. Similar overlays exist for SPI2, SPI3, SPI4, SPI5 and SPI6.

Reboot and check with `ls /dev/spidev`

## 2. Development
### 2.1 Mirrors (optional)
Change to Tsinghua Mirrors if you like

```sh
$ sudo nano /etc/apt/sources.list
# add in the file:
deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib rpi
deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib rpi

$ sudo /etc/apt/sources.list.d/raspi.list
# add in the file:
deb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui
```

### 2.2 Python Environment

ou probably already know the benefits of apt-get. Automatic update notifications, other apt-installed packages that need those tools know they're installed, etc.

With pip, you know you're getting the latest version at the time you install it, you can install to a non-default version of Python, and you can install to a virtualenv.

If you don't need any of the features pip gives you, and you don't routinely have to install other Python packages which aren't available over APT, use the APT versions.

"With pip, you know you're getting the latest version at the time you install it", this could be a crucial point, and I'd like to emphasize something, when you install through apt you're usually restricted to the version of the version(s) of the package _your distro supports_.


```sh
sudo apt-get install python3-pip
sudo apt-get install python3-numpy
sudo apt-get install python3-pil
sudo apt-get install RPi.GPIO
sudo apt install python3-gpiozero

sudo pip3 install smbus
sudo pip3 install spidev
```

sudo apt-get install python3-imaging

### 2.3 Others

```sh
sudo apt-get install git
```
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTE4MjQ1MzAwMDUsLTE4NjY5MzEyMTMsLT
E5MzQyMzMwMTMsLTUzNDQ2NzgwMCw3NTk5MDA0NDAsMTk1OTI5
NDcxNywzNzAwMTg4OSwyMTA2NDAwMTMsLTE1MjUyMDg0MTcsMT
YxNDUwNjYyOSwtMjM2MDczNTUwLC0xNjMwMDcwMjIsMTgwOTM0
MDgyOCwxOTgyMjA0MTAxLDE1OTgzNjEyNDEsMTU5NzAxNTcyNi
wxMTg3ODk5MDAyLDkxNjUxNTc1MiwtMzQ5NjM5MzMwLDg0NDcy
Mjc2NV19
-->