# Configurations
## 1. Config of RPi
### 1.1 Enable I2C and SPI
`$ sudo raspi-config`

Select Advanced Options -> I2C -> <YES> to enable the I2C driver by kernel.
Select Advanced Options -> SPI -> <YES> to enable the SPI driver by kernel.

check if these are enabled by `$ lsmod`. If I2C enabled, the terminal echoes an `i2c-bcm2835` device, else you can add it manually: `sudo nano /etc/modules` and append:

```sh
i2c-bcm2708
i2c-dev
```

If SPI enabled, the terminal echoes an `spi-bcm2835` device.

### 1.2 I2C-Tools
I2C-Tools are utilities for ease of monitoring and identifying I2C devices. These tools are also important for fault diagnosis. You can get the tools with:

```sh
sudo apt-get install i2c-tools
sudo reboot
```

#### `i2cdetect`
 `i2cdetect` is a userspace program to scan an I2C bus for devices.
 
`i2cdetect -y 1`

- `-y` Disable interactive mode. By default, `i2cdetect` will wait for a confirmation from the user before messing with the I2C bus. When this flag is used, it will perform the operation directly.
- `1` Indicates the number or name of the I2C bus to be scanned.

#### `i2cdump`
`i2cdump` is a small helper program to examine registers visible through the I2C bus.

`i2cdump -y 1 0x68`

-   `-y` Disable interactive mode. By default, `i2cdump` will wait for a confirmation from the user before messing with the I2C bus. When this flag is used, it will perform the operation directly.
-   `1` Indicates the number or name of the I2C bus to be scanned.
-  ` 0x68` Indicates the address to be scanned on that bus.

#### `i2cset` 
`i2cset` is a small helper program to set registers visible through the I2C bus.

`i2cset -y 1 0x68 0x00 0x13`

- `-y` Disable interactive mode. By default, `i2cset` will wait for a confirmation from the user before messing with the I2C bus. When this flag is used, it will perform the operation directly.
- `1` Indicates the number or name of the I2C bus to be scanned.
- `0x68` Specifies the address of the chip on that bus.
- `0x00` Specifies the address on that chip to write to.
- `0x13` If specified, is the value to write to that location on the chip.

#### `i2cget` 
`i2cget`  is a small helper program to read registers visible through the I2C bus (or SMBus).

`i2cget -y 1 0x68 0x00`

- `-y` Disable interactive mode. By default, `i2cget` will wait for a confirmation from the user before messing with the I2C bus. When this flag is used, it will perform the operation directly.
- `1` Indicates the number or name of the I2C bus to be scanned.
- `0x68` Specifies the address of the chip on that bus.
- `0x00` Specifies the address on that chip to read from.

## 2. dev
### 2.1 Mirrors (optional)
```
# 编辑 `/etc/apt/sources.list` 文件，删除原文件所有内容，用以下内容取代：
deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib rpi
deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib rpi

# 编辑 `/etc/apt/sources.list.d/raspi.list` 文件，删除原文件所有内容，用以下内容取代：
deb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui
```

gpio vs gpiozero

```sh
sudo apt-get install python3-pip
sudo apt-get install python3-pil
sudo pip3 install RPi.GPIO
sudo pip3 install smbus
sudo pip3 install spidev

sudo apt-get install python3-numpy
sudo apt-get install python3-imaging
```
<!--stackedit_data:
eyJoaXN0b3J5IjpbNzk1Nzk4Mzk3LC0xNjMwMDcwMjIsMTgwOT
M0MDgyOCwxOTgyMjA0MTAxLDE1OTgzNjEyNDEsMTU5NzAxNTcy
NiwxMTg3ODk5MDAyLDkxNjUxNTc1MiwtMzQ5NjM5MzMwLDg0ND
cyMjc2NSwxMDE4MDkxNDU5XX0=
-->